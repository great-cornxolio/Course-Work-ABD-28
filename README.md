# Курсовая работа "Аналитика больших данных"
Нетология. Курс ABD-28. Программа "Data Scientist: с нуля до middle"
___

В качестве датасета используем данные условного онлайн-кинотеатра. У нас есть информация о пользователях, фильмах, а так же оценках, которые пользователи поставили тому или иному фильму.
В рамках работы хотим провести исследование текущей ситуации и решить бизнес-кейс с рекомендациями фильмов пользователям (очевидно, что не все пользователи смотрели все фильмы и нам нужно каким-то образом рекомендовать пользователю, что ему посмотреть следующим).

Датасет доступен [тут](https://github.com/great-cornxolio/Course-Work-ABD-28/tree/main/ml-100k).
Описание [тут](https://github.com/great-cornxolio/Course-Work-ABD-28/blob/main/ml-100k/README).

Работа состоит из:
- Практика Google Sheets
- Практика Python

## Практика Google Sheets

В данной части мы выступаем в роли bi-аналитика и хотим представить заказчику общую информацию по фильмам, пользователям, а так же построить top активных пользователей за последние 3 месяца для мотивации.

Для того, чтобы загрузить данные в Google Sheets надо переиновать файлы u.user в файл с именем u.user.csv. В качестве разделителей там используется символ |

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 1  | Построить гистограмму пользователей по возрасту | 10 |
| 2  | Построить 2 графика, показывающих распределение людей по профессиям в зависимости от их пола | 10 |

Аналогично хотим посмотреть на данные по фильмам. Для того, чтобы загрузить данные в Google Sheets надо переименовать файл u.item в файл с именем u.item.csv. В качестве разделителей там используется символ |

| №  | Задание                                                                                      | Кол-во баллов |
|----|----------------------------------------------------------------------------------------------|---------------|
| 3  | Построить график количества фильмов по жанрам | 10 |
| 4  | Построить график количества фильмов по годам | 10 |

Наконец, мы хотим найти самых активных пользователей нашего портала для мотивирования. Для того, чтобы загрузить данные в Google Sheets надо переименовать файл u.data в файл с именем u.data.csv. В качестве разделителей там используется символ табуляции

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 5  | Построить график количества оценок по месяцам и годам | 10 |
| 6  | Выявить top-5 самых активных пользователей (больше всего оценок) за последние 3 месяца | 10 |

## [РЕШЕНИЕ](https://docs.google.com/spreadsheets/d/1DzB80q4DrkBewvpbvfgW1B1zupmDRiHKP__Yd2rI5wA/edit?usp=sharing)

---

## Практика Python
В данном разделе мы выступим в роли data scientist и попытаемся построить простую модель для рекомендации фильмов пользователям.

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 1  | Загрузите в колаб файлы по оценкам (ratings) и фильмам (movies) и создайте на их основе pandas-датафреймы | 10 |

Сформировав общий топ фильмов в прошлой практике, мы хотим сделать шаг вперед и начать советовать пользователю те фильмы, которые могли бы быть для него наиболее интересны. Наша цель - научится предсказывать оценку фильма пользователем. Для тестирования модели найдем пользователя, который поставил больше всего оценок.

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 2  | Средствами Pandas, используя dataframe ratings, найдите id пользователя, поставившего больше всего оценок | 10 |

Отберем фильмы, которые оценил данный пользователь

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 3  | Оставьте в датафрейме ratings только те фильмы, который оценил данный пользователь | 10 |

Для построения модели нам нужны признаки. В качестве таковых будем использовать:
- Год выхода
- Жанры
- Общее количество оценок
- Суммарную оценку

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 4  | Добавьте к датафрейму из задания 3 столбцы: а) По жанрам. Каждый столбец - это жанр. Единицу записываем, если фильм принадлежит данному жанру и 0 - если нет; б) столбцы с общим количеством оценок от всех пользователей на фильм и суммарной оценкой от всех пользователей | 10 |

Теперь все готово и можно строить модель

| №  | Задание      | Кол-во баллов |
|----|--------------|---------------|
| 5  | Сформируйте X_train, X_test, y_train, y_test | 10 |
| 6  | Возьмите модель линейной регрессии (или любую другую для задачи регрессии) и обучите ее на фильмах | 10 |
| 7  | Оцените качество модели на X_test, y_test при помощи метрик для задачи регрессии | 10 |

Вторая часть практики Python связана со Spark’ом
8
Загрузить данные в spark
10
9
Средствами спарка вывести среднюю оценку для каждого фильма
20
10
Посчитайте средствами спарка среднюю оценку для каждого жанра
20
11
В спарке получить 2 датафрейма с 5-ю самыми популярными и самыми непопулярными фильмами (по количеству оценок, либо по самой оценке - на Ваш выбор)
20


